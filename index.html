<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://unpkg.com/vue@2.7.8/dist/vue.js"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"
    />
    <link rel="stylesheet" type="text/css" href="index.css" />
    <title>LearnPlus</title>
  </head>
  <body>
    <div id="app">
      <header id="header-section">
        <nav>
          <ul>
            <li><a href="#home">{{ home }}</a></li>
            <li><a href="#courses">{{ courses }}</a></li>
            <div id="icon">
              <button @click="toggleCart">
                {{ cartVisible ? 'View items' : 'Cart' }}
                <i class="fa-solid fa-cart-shopping"></i>
              </button>
            </div>
          </ul>
        </nav>
      </header>
      <div id="main-section">
        <section class="hero">
          <h1>{{ message }}</h1>
          <div id="search-bar">
            <i class="fa-solid fa-magnifying-glass search-icon"></i>
            <input
              type="text"
              v-model="searchQuery"
              class="search-input"
              placeholder="Search courses..."
            />
            </div>
          <p>{{ message1 }}</p>
        </section>
        <div v-if="!cartVisible">
          <div>
            <label for="sort">SortBy:</label>
            <select v-model="sortAttribute" @change="sortLessons">
              <option value="subject">Subject</option>
              <option value="location">Location</option>
              <option value="price">Price</option>
              <option value="space">Space</option>
            </select>
            <button @click="toggleOrder">
              {{ sortOrder === 1 ? 'Ascending' : 'Descending' }}
            </button>
          </div>
        </div>
        <div id="box">
          <div v-for="item in items" :key="item.itemId" class="item">
            <img :src="item.image" alt="images" />
            <div class="item-info">
              <p>Subject: {{ item.subject }}</p>
              <p>Location: {{ item.location }}</p>
              <p>Price: &#xa3;{{ item.price }}</p>
              <p>Space: {{ item.space }}</p>
            </div>
            <button :disabled="item.space === 0" @click="addToCart(item)">
              Add to cart
            </button>
          </div>
        </div>

        <div v-if="cartVisible" class="cart">
          <h2>Your Cart</h2>
          <div v-for="lesson in cart" :key="lesson.id" class="item">
            <div class="item-info">
              <h3>{{ lesson.subject}}</h3>
              <p1>Quantity: {{ lesson.quantity }}</p1>
            </div>
            <button @click="removeFromCart(lesson)">
              <i class="fas fa-trash"></i> Remove
            </button>
          </div>
          <!-- check out  -->
          <form @submit.prevent="checkout">
            <input v-model="name"
            type="text"
            placeholder="Name"/>
            <input v-model="phone"
            type="text"
            placeholder="Phone Number"/>
            <button :disabled="!validInput" type="submit">Checkout</button>
            </form>
            <div v-if="checkoutMessage" class="checkout-message">
              {{checkoutMessage}}
            </div>

        </div>
      </div>
    </div>
    <script src="index.js"></script>
    </script>
  </body>
</html>
